package com.scorpio4.jdbc

import com.scorpio4.test.Scorpio4TestCase
import com.scorpio4.vendor.spring.RDFBeanDefinitionReader
import org.springframework.context.support.GenericApplicationContext

import javax.sql.DataSource

/**
 * scorpio4-oss (c) 2014
 * Module: com.scorpio4.jdbc
 * User  : lee
 * Date  : 6/07/2014
 * Time  : 4:09 AM
 *
 *
 */
class JDBCFLOTest extends Scorpio4TestCase {

	void testFLO() {
//		provision("scorpio4/jdbc/flo.n3");
//		GenericApplicationContext registry = new GenericApplicationContext();
//		RDFBeanDefinitionReader beanie = new RDFBeanDefinitionReader(connection, registry)
//		String jdbcBeanURI = "urn:scorpio4tests:hsqldb"
//		def definitions = beanie.loadBeanDefinitions(jdbcBeanURI);
//		assert definitions>0;
//		def bean= registry.getBean(jdbcBeanURI);
//		assert bean!=null;
//		assert bean instanceof DataSource
//		DataSource dataSource = (DataSource)bean;
//		assert !dataSource.connection.isClosed();
//		println "DataSource: "+dataSource.getConnection();

	}
}
